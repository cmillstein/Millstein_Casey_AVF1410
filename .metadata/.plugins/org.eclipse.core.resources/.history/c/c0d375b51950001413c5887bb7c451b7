var adminID = "543572ee1011a40877009710";


var messageView = Titanium.UI.createView({
    id:'messageview',
    height:30,
    width:250,
    borderRadius:10,
    backgroundColor:'#000',
    opacity:0.7,
    touchEnabled:false
});
 
var messageLabel = Titanium.UI.createLabel({
    id:'messagelabel',
    text:'',
    color:'#fff',
    width:250,
    height:Ti.UI.SIZE,
    font:{
        fontFamily:'Helvetica Neue',
        fontSize:16
    },
    textAlign:'center'
});
 
messageView.add(messageLabel);
 

var Cloud = require('ti.cloud');
Cloud.debug = true;

var loginUser = function(){
	Cloud.Users.login({
		login: 'admin',
		password: 'admin'
	}, function(e){
		if (e.success){
			var user = e.users[0];
			Ti.API.info('Success!\n' + 
				'ACS User ID: ' + user.id + '\n' + 
				'ACS App sessionId: ' + Cloud.sessionId + '\n' + 
				'ACS App Username: ' + user.username);
		} else {
			alert((e.error && e.message) || JSON.stringify(e));
		}
	});
	Cloud.onsendstream = function(e) {
                messageLabel.text = 'Please Wait, Uploading Photo ' + (Math.floor(e.progress * 0.5 * 100) * 2) + '% Complete';
            };
            Cloud.ondatastream = function(evt) {
                messageLabel.text = 'Please Wait, Uploading Photo ' + (Math.floor(e.progress * 0.5 * 100) + 0.5) * 2 + '% Complete';
            };
}; 
loginUser();
